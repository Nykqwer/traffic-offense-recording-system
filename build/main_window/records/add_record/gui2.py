
# This file was generated by the Tkinter Designer by Parth Jadhav
# https://github.com/ParthJadhav/Tkinter-Designer


from pathlib import Path

# from tkinter import *
# Explicit imports to satisfy Flake8
from tkinter import Frame, StringVar, Tk, Canvas, Entry, Text, Button, PhotoImage, messagebox
import controller as db_controller

OUTPUT_PATH = Path(__file__).parent
ASSETS_PATH = OUTPUT_PATH / Path(r"./assets")


def relative_to_assets(path: str) -> Path:
    return ASSETS_PATH / Path(path)


def add_record():
    addRecord()
    

class addRecord(Frame):
     def __init__(self, parent, controller=None, *args, **kwargs):
        Frame.__init__(self, parent, *args, **kwargs)
        self.parent = parent

        self.data = {
            "d_name": StringVar(), 
            "d_license": StringVar(),
            "address": StringVar(),
            "p_no": StringVar(),
            "email": StringVar(),
            "v_reg": StringVar(),
            "v_model": StringVar(),
            "v_no": StringVar(),
            "off_name": StringVar(),
            "e_agency": StringVar(),
            "offense": StringVar(),
            "date": StringVar(),
            "time": StringVar(),
            "location": StringVar(),
            "description": StringVar(),
            "off_code": StringVar(),
            "court_no": StringVar(),
            "hearing_date": StringVar(),
            "outcome": StringVar(),
            "fines": StringVar(),
            "payment": StringVar()
        }
        
        canvas = Canvas(
            self,
            bg = "#FFFFFF",
            height = 644,
            width = 1200,
            bd = 0,
            highlightthickness = 0,
            relief = "ridge"
        )

        canvas.place(x = 0, y = 0)
        self.image_image_1 = PhotoImage(
            file=relative_to_assets("image_1.png"))
        image_1 = canvas.create_image(
            600.0,
            321.0,
            image=self.image_image_1
        )

        canvas.create_rectangle(
            30.0,
            114.0,
            1170.0,
            537.0,
            fill="#FFFFFF",
            outline="")

        self.button_image_1 = PhotoImage(
            file=relative_to_assets("button_1.png"))
        button_1 = Button(
            self,
            image=self.button_image_1,
            borderwidth=0,
            highlightthickness=0,
            command=self.save,
            relief="flat"
        )
        button_1.place(
            x=953.0,
            y=553.0,
            width=217.0,
            height=62.0
        )

        self.button_image_2 = PhotoImage(
            file=relative_to_assets("button_2.png"))
        button_2 = Button(
            self,
            image=self.button_image_2,
            borderwidth=0,
            highlightthickness=0,
            command=self.clear_label,
            relief="flat"
        )
        button_2.place(
            x=721.0,
            y=553.0,
            width=217.0,
            height=62.0
        )

        self.button_image_3 = PhotoImage(
            file=relative_to_assets("button_3.png"))
        button_3 = Button(
            self,
            image=self.button_image_3,
            borderwidth=0,
            highlightthickness=0,
            command=lambda:self.parent.navigate("view"),
            relief="flat"
        )
        button_3.place(
            x=30.0,
            y=552.0,
            width=217.0,
            height=62.0
        )

        self.image_image_2 = PhotoImage(
            file=relative_to_assets("image_2.png"))
        image_2 = canvas.create_image(
            571.0,
            275.0,
            image=self.image_image_2
        )

        self.image_image_3 = PhotoImage(
            file=relative_to_assets("image_3.png"))
        image_3 = canvas.create_image(
            597.0,
            327.0,
            image=self.image_image_3
        )

        entry_image_1 = PhotoImage(
            file=relative_to_assets("entry_1.png"))
        entry_bg_1 = canvas.create_image(
            169.0,
            197.5,
            image=entry_image_1
        )
        entry_1 = Entry(
            self,
            textvariable=self.data["d_name"],
            bd=0,
            bg="#FFFFFF",
            fg="#000716",
            highlightthickness=0
        )
        entry_1.place(
            x=46.0,
            y=187.0,
            width=246.0,
            height=19.0
        )

        entry_image_2 = PhotoImage(
            file=relative_to_assets("entry_2.png"))
        entry_bg_2 = canvas.create_image(
            450.0,
            197.5,
            image=entry_image_2
        )
        entry_2 = Entry(
            self,
            textvariable=self.data["v_reg"],
            bd=0,
            bg="#FFFFFF",
            fg="#000716",
            highlightthickness=0
        )
        entry_2.place(
            x=327.0,
            y=187.0,
            width=246.0,
            height=19.0
        )

        entry_image_3 = PhotoImage(
            file=relative_to_assets("entry_3.png"))
        entry_bg_3 = canvas.create_image(
            739.0,
            197.5,
            image=entry_image_3
        )
        entry_3 = Entry(
            self,
            bd=0,
            textvariable=self.data["offense"],
            bg="#FFFFFF",
            fg="#000716",
            highlightthickness=0
        )
        entry_3.place(
            x=616.0,
            y=187.0,
            width=246.0,
            height=19.0
        )

        entry_image_4 = PhotoImage(
            file=relative_to_assets("entry_4.png"))
        entry_bg_4 = canvas.create_image(
            1025.0,
            197.5,
            image=entry_image_4
        )
        entry_4 = Entry(
            self,
            bd=0,
            textvariable=self.data["court_no"],
            bg="#FFFFFF",
            fg="#000716",
            highlightthickness=0
        )
        entry_4.place(
            x=902.0,
            y=187.0,
            width=246.0,
            height=19.0
        )

        entry_image_5 = PhotoImage(
            file=relative_to_assets("entry_5.png"))
        entry_bg_5 = canvas.create_image(
            1025.0,
            431.5,
            image=entry_image_5
        )
        entry_5 = Entry(
            self,
            bd=0,
            textvariable=self.data["payment"],
            bg="#FFFFFF",
            fg="#000716",
            highlightthickness=0
        )
        entry_5.place(
            x=902.0,
            y=421.0,
            width=246.0,
            height=19.0
        )

        entry_image_6 = PhotoImage(
            file=relative_to_assets("entry_6.png"))
        entry_bg_6 = canvas.create_image(
            1025.0,
            384.5,
            image=entry_image_6
        )
        entry_6 = Entry(
            self,
            bd=0,
            textvariable=self.data["fines"],
            bg="#FFFFFF",
            fg="#000716",
            highlightthickness=0
        )
        entry_6.place(
            x=902.0,
            y=374.0,
            width=246.0,
            height=19.0
        )

        entry_image_7 = PhotoImage(
            file=relative_to_assets("entry_7.png"))
        entry_bg_7 = canvas.create_image(
            1025.0,
            291.5,
            image=entry_image_7
        )
        entry_7 = Entry(
            self,
            bd=0,
            textvariable=self.data["outcome"],
            bg="#FFFFFF",
            fg="#000716",
            highlightthickness=0
        )
        entry_7.place(
            x=902.0,
            y=281.0,
            width=246.0,
            height=19.0
        )

        entry_image_8 = PhotoImage(
            file=relative_to_assets("entry_8.png"))
        entry_bg_8 = canvas.create_image(
            1025.0,
            245.5,
            image=entry_image_8
        )
        entry_8 = Entry(
            self,
            bd=0,
            textvariable=self.data["hearing_date"],
            bg="#FFFFFF",
            fg="#000716",
            highlightthickness=0
        )
        entry_8.place(
            x=902.0,
            y=235.0,
            width=246.0,
            height=19.0
        )

        entry_image_9 = PhotoImage(
            file=relative_to_assets("entry_9.png"))
        entry_bg_9 = canvas.create_image(
            739.0,
            431.5,
            image=entry_image_9
        )
        entry_9 = Entry(
            self,
            bd=0,
            textvariable=self.data["off_code"],
            bg="#FFFFFF",
            fg="#000716",
            highlightthickness=0
        )
        entry_9.place(
            x=616.0,
            y=421.0,
            width=246.0,
            height=19.0
        )

        entry_image_10 = PhotoImage(
            file=relative_to_assets("entry_10.png"))
        entry_bg_10 = canvas.create_image(
            739.0,
            384.5,
            image=entry_image_10
        )
        entry_10 = Entry(
            self,
            bd=0,
            textvariable=self.data["description"],
            bg="#FFFFFF",
            fg="#000716",
            highlightthickness=0
        )
        entry_10.place(
            x=616.0,
            y=374.0,
            width=246.0,
            height=19.0
        )

        entry_image_11 = PhotoImage(
            file=relative_to_assets("entry_11.png"))
        entry_bg_11 = canvas.create_image(
            739.0,
            335.5,
            image=entry_image_11
        )
        entry_11 = Entry(
            self,
            bd=0,
            textvariable=self.data["location"],
            bg="#FFFFFF",
            fg="#000716",
            highlightthickness=0
        )
        entry_11.place(
            x=616.0,
            y=325.0,
            width=246.0,
            height=19.0
        )

        entry_image_12 = PhotoImage(
            file=relative_to_assets("entry_12.png"))
        entry_bg_12 = canvas.create_image(
            739.0,
            245.5,
            image=entry_image_12
        )
        entry_12 = Entry(
            self,
            bd=0,
            textvariable=self.data["date"],
            bg="#FFFFFF",
            fg="#000716",
            highlightthickness=0
        )
        entry_12.place(
            x=616.0,
            y=235.0,
            width=246.0,
            height=19.0
        )

        entry_image_13 = PhotoImage(
            file=relative_to_assets("entry_13.png"))
        entry_bg_13 = canvas.create_image(
            739.0,
            291.5,
            image=entry_image_13
        )
        entry_13 = Entry(
            self,
            bd=0,
            textvariable=self.data["time"],
            bg="#FFFFFF",
            fg="#000716",
            highlightthickness=0
        )
        entry_13.place(
            x=616.0,
            y=281.0,
            width=246.0,
            height=19.0
        )

        entry_image_14 = PhotoImage(
            file=relative_to_assets("entry_14.png"))
        entry_bg_14 = canvas.create_image(
            169.0,
            431.5,
            image=entry_image_14
        )
        entry_14 = Entry(
            self,
            textvariable=self.data["email"],
            bd=0,
            bg="#FFFFFF",
            fg="#000716",
            highlightthickness=0
        )
        entry_14.place(
            x=46.0,
            y=421.0,
            width=246.0,
            height=19.0
        )

        entry_image_15 = PhotoImage(
            file=relative_to_assets("entry_15.png"))
        entry_bg_15 = canvas.create_image(
            451.0,
            431.5,
            image=entry_image_15
        )
        entry_15 = Entry(
            self,
            bd=0,
            textvariable=self.data["e_agency"],
            bg="#FFFFFF",
            fg="#000716",
            highlightthickness=0
        )
        entry_15.place(
            x=328.0,
            y=421.0,
            width=246.0,
            height=19.0
        )

        entry_image_16 = PhotoImage(
            file=relative_to_assets("entry_16.png"))
        entry_bg_16 = canvas.create_image(
            451.0,
            384.5,
            image=entry_image_16
        )
        entry_16 = Entry(
            self,
            bd=0,
            textvariable=self.data["off_name"],
            bg="#FFFFFF",
            fg="#000716",
            highlightthickness=0
        )
        entry_16.place(
            x=328.0,
            y=374.0,
            width=246.0,
            height=19.0
        )

        entry_image_17 = PhotoImage(
            file=relative_to_assets("entry_17.png"))
        entry_bg_17 = canvas.create_image(
            451.0,
            291.5,
            image=entry_image_17
        )
        entry_17 = Entry(
            self,
            bd=0,
            textvariable=self.data["v_no"],
            bg="#FFFFFF",
            fg="#000716",
            highlightthickness=0
        )
        entry_17.place(
            x=328.0,
            y=281.0,
            width=246.0,
            height=19.0
        )

        entry_image_18 = PhotoImage(
            file=relative_to_assets("entry_18.png"))
        entry_bg_18 = canvas.create_image(
            450.0,
            245.5,
            image=entry_image_18
        )
        entry_18 = Entry(
            self,
            bd=0,
            textvariable=self.data["v_model"],
            bg="#FFFFFF",
            fg="#000716",
            highlightthickness=0
        )
        entry_18.place(
            x=327.0,
            y=235.0,
            width=246.0,
            height=19.0
        )

        entry_image_19 = PhotoImage(
            file=relative_to_assets("entry_19.png"))
        entry_bg_19 = canvas.create_image(
            169.0,
            384.5,
            image=entry_image_19
        )
        entry_19 = Entry(
            self,
            textvariable=self.data["p_no"],
            bd=0,
            bg="#FFFFFF",
            fg="#000716",
            highlightthickness=0
        )
        entry_19.place(
            x=46.0,
            y=374.0,
            width=246.0,
            height=19.0
        )

        entry_image_20 = PhotoImage(
            file=relative_to_assets("entry_20.png"))
        entry_bg_20 = canvas.create_image(
            169.0,
            335.5,
            image=entry_image_20
        )
        entry_20 = Entry(
            self,
            textvariable=self.data["address"],
            bd=0,
            bg="#FFFFFF",
            fg="#000716",
            highlightthickness=0
        )
        entry_20.place(
            x=46.0,
            y=325.0,
            width=246.0,
            height=19.0
        )

        entry_image_21 = PhotoImage(
            file=relative_to_assets("entry_21.png"))
        entry_bg_21 = canvas.create_image(
            169.0,
            245.5,
            image=entry_image_21
        )
        entry_21 = Entry(
            self,
            textvariable=self.data["d_license"],
            bd=0,
            bg="#FFFFFF",
            fg="#000716",
            highlightthickness=0
        )
        entry_21.place(
            x=46.0,
            y=235.0,
            width=246.0,
            height=19.0
        )
      
      
     def save(self):

        for val in self.data.values():
            if val.get() == "":
                messagebox.showinfo("Error", "Please fill in all the fields")
                return

     
        result = db_controller.add_record(
            *[self.data[label].get() for label in (
            "d_name", "d_license", "address", "p_no", "email", "v_reg", "v_model", "v_no", 
            "off_name", "e_agency", "offense", "date", "time", "location", "description", 
            "off_code", "court_no", "hearing_date", "outcome", "fines", "payment")]
        )

        if result:
            messagebox.showinfo("Success", "section added successfully")
            self.parent.windows.get("view").handle_refresh()
            for label in self.data.keys():
                self.data[label].set('')
        else:
            messagebox.showerror(
                "Error", "Unable to add section. Please make sure the data is validated"
            )
    
     def clear_label(self):
            for label in self.data.keys():
                self.data[label].set('')